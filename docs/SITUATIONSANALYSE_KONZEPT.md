# Implementierungskonzept: KI-gestÃ¼tzte Situationsanalyse

## Ãœbersicht

Dieses Dokument beschreibt die Implementierung einer KI-gestÃ¼tzten Situationsanalyse, die:
- In definierten Zeitintervallen die aktuelle Lage analysiert (nur wenn Chatbot aktiv, keine Simulation)
- Rollenspezifische HandlungsvorschlÃ¤ge generiert
- Ein ein-/ausklappbares Panel im Aufgabenboard bereitstellt
- Bewertbare und bearbeitbare VorschlÃ¤ge fÃ¼r RAG-RÃ¼ckfluss ermÃ¶glicht
- Eine direkte Frage-Antwort-Funktion mit Bewertung bietet

---

## 1. Architektur-Ãœbersicht

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CLIENT (React)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        AufgApp.jsx                                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚                    Kanban Board                              â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”‚   Neu   â”‚  â”‚  In Bearbeitung â”‚  â”‚   Erledigt   â”‚        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚              SituationAnalysisPanel (NEU)                    â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  - HandlungsvorschlÃ¤ge fÃ¼r aktuelle Rolle                    â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  - LLM-Chat fÃ¼r Fragen                                       â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  - Bewertungssystem                                          â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CHATBOT SERVER                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  situation_analyzer.js â”‚    â”‚       llm_feedback.js (erweitert)  â”‚       â”‚
â”‚  â”‚  (NEU)                 â”‚    â”‚                                    â”‚       â”‚
â”‚  â”‚                        â”‚    â”‚  + Vorschlagsbewertungen           â”‚       â”‚
â”‚  â”‚  - analyzeCurrentState â”‚    â”‚  + Learned Suggestions             â”‚       â”‚
â”‚  â”‚  - generateSuggestions â”‚    â”‚                                    â”‚       â”‚
â”‚  â”‚  - intervalManager     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                  â”‚
â”‚              â”‚                                                               â”‚
â”‚              â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                    RAG System                                       â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚  â”‚  â”‚ session_rag  â”‚  â”‚ rag_vector   â”‚  â”‚ learned_suggestions     â”‚  â”‚     â”‚
â”‚  â”‚  â”‚ (Echtzeit)   â”‚  â”‚ (Knowledge)  â”‚  â”‚ (aus Bewertungen)       â”‚  â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Neue Komponenten

### 2.1 Frontend-Komponenten

#### A) SituationAnalysisPanel.jsx (Hauptkomponente)

```jsx
// Struktur der Hauptkomponente
â”œâ”€â”€ SituationAnalysisPanel
â”‚   â”œâ”€â”€ PanelHeader (Toggle-Button, Status-Anzeige)
â”‚   â”œâ”€â”€ TabNavigation (VorschlÃ¤ge | Fragen)
â”‚   â”œâ”€â”€ SuggestionsTab
â”‚   â”‚   â”œâ”€â”€ SuggestionCard (mehrere)
â”‚   â”‚   â”‚   â”œâ”€â”€ SuggestionContent (editierbar)
â”‚   â”‚   â”‚   â”œâ”€â”€ RatingStars
â”‚   â”‚   â”‚   â”œâ”€â”€ ActionButtons (Umsetzen, Ablehnen, Bearbeiten)
â”‚   â”‚   â”‚   â””â”€â”€ FeedbackForm
â”‚   â”‚   â””â”€â”€ RefreshButton
â”‚   â””â”€â”€ QuestionsTab
â”‚       â”œâ”€â”€ QuestionInput
â”‚       â”œâ”€â”€ AnswerCard (mehrere)
â”‚       â”‚   â”œâ”€â”€ QuestionText
â”‚       â”‚   â”œâ”€â”€ AnswerContent
â”‚       â”‚   â”œâ”€â”€ RatingStars
â”‚       â”‚   â””â”€â”€ FeedbackForm
â”‚       â””â”€â”€ HistoryList
```

---

## 3. UI-Design (Chrome-Style Slide Panel)

Das Panel verwendet ein **Chrome-artiges Slide-In Design** mit einem kleinen Tab/Griff am unteren Rand,
der beim Hover/Klick das Panel sanft nach oben ausfÃ¤hrt.

### 3.1 Panel eingeklappt - Nur Tab sichtbar (wie Chrome Seitenleiste)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AUFGABENBOARD                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚       NEU        â”‚  â”‚   IN BEARBEITUNG  â”‚  â”‚     ERLEDIGT      â”‚        â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚        â”‚
â”‚  â”‚  â”‚ Aufgabe 1  â”‚  â”‚  â”‚  â”‚ Aufgabe 3   â”‚  â”‚  â”‚  â”‚ Aufgabe 5   â”‚  â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚  â”‚ Aufgabe 2  â”‚  â”‚  â”‚  â”‚ Aufgabe 4   â”‚  â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚  â”‚                   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  ğŸ¤– KI-Assistent    â”‚  â† Kleiner Tab (immer sichtbar)
                         â”‚      â–²  (3)         â”‚     Badge zeigt Anzahl neuer VorschlÃ¤ge
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Tab-Hover-Zustand (Vorschau)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AUFGABENBOARD                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚       NEU        â”‚  â”‚   IN BEARBEITUNG  â”‚  â”‚     ERLEDIGT      â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚        â”‚
â”‚  â”‚  â”‚ Aufgabe 1  â”‚  â”‚  â”‚  â”‚ Aufgabe 3   â”‚  â”‚  â”‚  â”‚ Aufgabe 5   â”‚  â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚  â”‚ Aufgabe 2  â”‚  â”‚  â”‚  â”‚ Aufgabe 4   â”‚  â”‚  â”‚                   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚  ğŸ¤– KI-Lageanalyse fÃ¼r S3                                          â–¼   â”‚ â”‚ â† Preview bei Hover
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  â€¢ 3 neue HandlungsvorschlÃ¤ge verfÃ¼gbar                                 â”‚ â”‚
â”‚ â”‚  â€¢ Letzte Analyse: vor 5 Minuten                                        â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚  Klicken zum Ã–ffnen                                                     â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Panel vollstÃ¤ndig ausgeklappt (Slide-Up Animation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AUFGABENBOARD                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚       NEU        â”‚  â”‚   IN BEARBEITUNG  â”‚  â”‚     ERLEDIGT      â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚        â”‚
â”‚  â”‚  â”‚ Aufgabe 1  â”‚  â”‚  â”‚  â”‚ Aufgabe 3   â”‚  â”‚  â”‚  â”‚ Aufgabe 5   â”‚  â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â•­â”€â”€ ğŸ¤– KI-Lageanalyse fÃ¼r S3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [âˆ’] [âœ•] â”€â”€â”€â”€â•® â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚ â”‚  â”‚ ğŸ“‹ VorschlÃ¤ge  (3)   â”‚  â”‚ ğŸ’¬ Fragen an KI      â”‚      [ğŸ”„ Refresh]  â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚ â”‚  â”‚ ğŸ”´ HOCH â”‚ ZusÃ¤tzliche EinsatzkrÃ¤fte anfordern                     â”‚  â”‚ â”‚
â”‚ â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚ â”‚
â”‚ â”‚  â”‚ BegrÃ¼ndung: Auslastung Abschnitt Nord bei 87%                     â”‚  â”‚ â”‚
â”‚ â”‚  â”‚                                                                   â”‚  â”‚ â”‚
â”‚ â”‚  â”‚ [âœï¸ Bearbeiten] [âœ… Umsetzen] [âŒ Ablehnen]    â­â­â­â­â­        â”‚  â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚ â”‚  â”‚ ğŸŸ¡ MITTEL â”‚ Evakuierungsroute B Ã¼berprÃ¼fen                        â”‚  â”‚ â”‚
â”‚ â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚ â”‚
â”‚ â”‚  â”‚ MÃ¶gliche StraÃŸensperrung gemeldet...                              â”‚  â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚ â”‚                                                                         â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Panel minimiert (schneller Zugriff)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AUFGABENBOARD                                      â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚       NEU        â”‚  â”‚   IN BEARBEITUNG  â”‚  â”‚     ERLEDIGT      â”‚        â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚  â”‚                   â”‚        â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚  â”‚                   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â•­â”€â”€ ğŸ¤– KI-Lageanalyse â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 3 VorschlÃ¤ge â”‚ 14:32 Uhr â”€â”€â”€ [+] [âœ•] â”€â”€â”€â•® â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
         â†‘ Minimierte Header-Leiste (Klick auf [+] expandiert wieder)
```

### 3.5 Animation & InteraktionszustÃ¤nde

```css
/* CSS Transitions fÃ¼r Chrome-artiges Verhalten */

/* 1. Tab am unteren Rand */
.panel-tab {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 2. Hover-Vorschau */
.panel-tab:hover + .panel-preview {
  opacity: 1;
  transform: translateY(0);
}

/* 3. Panel Slide-Up */
.panel-container {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  transform: translateY(calc(100% - 48px)); /* Nur Tab sichtbar */
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.panel-container.expanded {
  transform: translateY(0); /* VollstÃ¤ndig sichtbar */
}

.panel-container.minimized {
  transform: translateY(calc(100% - 48px)); /* Header-Leiste sichtbar */
}
```

### 3.2 Panel ausgeklappt - VorschlÃ¤ge-Tab

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AUFGABENBOARD                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚       NEU        â”‚  â”‚   IN BEARBEITUNG  â”‚  â”‚     ERLEDIGT      â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚        â”‚
â”‚  â”‚  â”‚ Aufgabe 1  â”‚  â”‚  â”‚  â”‚ Aufgabe 3   â”‚  â”‚  â”‚  â”‚ Aufgabe 5   â”‚  â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¼ KI-Lageanalyse fÃ¼r S3                         Letzte Analyse: 14:32 Uhr â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚ ğŸ“‹ VorschlÃ¤ge   â”‚ â”‚ ğŸ’¬ Fragen an KI   â”‚                    [ğŸ”„ Refresh] â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”´ PRIORITÃ„T HOCH                                     vor 5 Minuten â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Empfehlung: ZusÃ¤tzliche EinsatzkrÃ¤fte fÃ¼r Abschnitt Nord anfordern â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  BegrÃ¼ndung: Basierend auf der aktuellen Schadensentwicklung und    â”‚   â”‚
â”‚  â”‚  den verfÃ¼gbaren Ressourcen wird eine VerstÃ¤rkung empfohlen.        â”‚   â”‚
â”‚  â”‚  Aktuelle Auslastung im Abschnitt: 87%                              â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ [âœï¸ Bearbeiten]  [âœ… Umsetzen]  [âŒ Ablehnen]  [ğŸ“ Kommentar]â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Bewertung: â˜† â˜† â˜† â˜† â˜†  Hilfreich? [Ja] [Nein]                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸŸ¡ PRIORITÃ„T MITTEL                                   vor 5 Minuten â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Empfehlung: Evakuierungsroute B Ã¼berprÃ¼fen                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  BegrÃ¼ndung: Meldung Ã¼ber mÃ¶gliche StraÃŸensperrung eingegangen.     â”‚   â”‚
â”‚  â”‚  Alternative Route Ã¼ber Feldweg mÃ¶glich.                             â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ [âœï¸ Bearbeiten]  [âœ… Umsetzen]  [âŒ Ablehnen]  [ğŸ“ Kommentar]â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Bewertung: â˜† â˜† â˜† â˜† â˜†  Hilfreich? [Ja] [Nein]                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸŸ¢ PRIORITÃ„T NIEDRIG                                  vor 5 Minuten â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Empfehlung: Lagebericht fÃ¼r 15:00 Uhr vorbereiten                  â”‚   â”‚
â”‚  â”‚  [Mehr anzeigen...]                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Panel ausgeklappt - Fragen-Tab

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–¼ KI-Lageanalyse fÃ¼r S3                         Letzte Analyse: 14:32 Uhr â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚ ğŸ“‹ VorschlÃ¤ge   â”‚ â”‚ ğŸ’¬ Fragen an KI   â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  (aktiv)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Stellen Sie Ihre Frage zur aktuellen Lage:                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ Welche Einheiten sind aktuell im Abschnitt SÃ¼d verfÃ¼gbar?    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                               â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                        [ğŸ“¤ Senden]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€ Letzte Antworten â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â“ Wie ist der aktuelle Status der Evakuierung?         vor 10 Min â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  ğŸ¤– Antwort:                                                        â”‚   â”‚
â”‚  â”‚  Die Evakuierung im Bereich HauptstraÃŸe 15-25 ist zu 75%            â”‚   â”‚
â”‚  â”‚  abgeschlossen. Noch 12 Personen mÃ¼ssen evakuiert werden.           â”‚   â”‚
â”‚  â”‚  GeschÃ¤tzte Restzeit: ca. 45 Minuten.                               â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Quellen: Meldung #127, Lagebericht 14:15                           â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  [ğŸ‘ Hilfreich]  [ğŸ‘ Nicht hilfreich]  [ğŸ“ Korrektur]         â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â“ Wann wurde der letzte Lagebericht erstellt?          vor 25 Min â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  ğŸ¤– Der letzte Lagebericht wurde um 14:15 Uhr erstellt...          â”‚   â”‚
â”‚  â”‚  [Mehr anzeigen...]                                                  â”‚   â”‚
â”‚  â”‚  [ğŸ‘ Hilfreich]  [ğŸ‘ Nicht hilfreich]                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Vorschlag bearbeiten (Modal)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚      â”‚  âœï¸ Vorschlag bearbeiten                              [âœ•]   â”‚       â”‚
â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚      â”‚                                                              â”‚       â”‚
â”‚      â”‚  Titel:                                                      â”‚       â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚       â”‚
â”‚      â”‚  â”‚ ZusÃ¤tzliche EinsatzkrÃ¤fte fÃ¼r Abschnitt Nord        â”‚   â”‚       â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚       â”‚
â”‚      â”‚                                                              â”‚       â”‚
â”‚      â”‚  Beschreibung:                                               â”‚       â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚       â”‚
â”‚      â”‚  â”‚ Basierend auf der aktuellen Schadensentwicklung     â”‚   â”‚       â”‚
â”‚      â”‚  â”‚ und den verfÃ¼gbaren Ressourcen wird eine            â”‚   â”‚       â”‚
â”‚      â”‚  â”‚ VerstÃ¤rkung empfohlen.                              â”‚   â”‚       â”‚
â”‚      â”‚  â”‚                                                      â”‚   â”‚       â”‚
â”‚      â”‚  â”‚ ErgÃ¤nzung: Mindestens 2 LÃ¶schzÃ¼ge und 1 Rettungs-  â”‚   â”‚       â”‚
â”‚      â”‚  â”‚ wagen zusÃ¤tzlich anfordern.                         â”‚   â”‚       â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚       â”‚
â”‚      â”‚                                                              â”‚       â”‚
â”‚      â”‚  PrioritÃ¤t:  [ğŸ”´ Hoch â–¼]                                    â”‚       â”‚
â”‚      â”‚                                                              â”‚       â”‚
â”‚      â”‚  Eigene Notizen:                                             â”‚       â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚       â”‚
â”‚      â”‚  â”‚ Bereits mit EL besprochen, Anforderung lÃ¤uft        â”‚   â”‚       â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚       â”‚
â”‚      â”‚                                                              â”‚       â”‚
â”‚      â”‚  â˜ Als Aufgabe ins Board Ã¼bernehmen                         â”‚       â”‚
â”‚      â”‚                                                              â”‚       â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚       â”‚
â”‚      â”‚  â”‚   Abbrechen    â”‚  â”‚   Speichern    â”‚                     â”‚       â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚       â”‚
â”‚      â”‚                                                              â”‚       â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 Vereinfachtes Feedback-System (BinÃ¤r)

**Prinzip:** Nur zwei Optionen - **Hilfreich** oder **Nicht hilfreich**
- Bei "Hilfreich" â†’ Automatisch ins RAG (inkl. BenutzerÃ¤nderungen)
- Bei "Nicht hilfreich" â†’ Wird nicht ins RAG Ã¼bernommen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ PRIORITÃ„T HOCH                                         vor 5 Minuten    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Empfehlung: ZusÃ¤tzliche EinsatzkrÃ¤fte fÃ¼r Abschnitt Nord anfordern        â”‚
â”‚                                                                             â”‚
â”‚  BegrÃ¼ndung: Auslastung Abschnitt Nord bei 87%                             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [âœï¸ Bearbeiten]                                                     â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  Eigene ErgÃ¤nzung (optional):                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Mindestens 2 LÃ¶schzÃ¼ge anfordern. Mit EL abgestimmt.          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ‘ HILFREICH       â”‚   â”‚  ğŸ‘ NICHT HILFREICH â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚                     â”‚   â”‚                     â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚  â†’ Speichert ins    â”‚   â”‚  â†’ Wird verworfen   â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚    RAG fÃ¼r Lernen   â”‚   â”‚                     â”‚                   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6 Feedback-Flow (vereinfacht)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vorschlag     â”‚â”€â”€â”€â”€â–ºâ”‚ Benutzer prÃ¼ft   â”‚â”€â”€â”€â”€â–ºâ”‚  ğŸ‘ Hilfreich?      â”‚
â”‚   vom LLM       â”‚     â”‚ (ggf. bearbeitet)â”‚     â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                            â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                              â”‚                  â”‚
                              â–¼                              â–¼                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                    â”‚   JA (ğŸ‘)       â”‚            â”‚   NEIN (ğŸ‘)     â”‚         â”‚
                    â”‚                 â”‚            â”‚                 â”‚         â”‚
                    â”‚ â†’ RAG speichern â”‚            â”‚ â†’ Verwerfen     â”‚         â”‚
                    â”‚ â†’ Mit Ã„nderungenâ”‚            â”‚ â†’ Kein Lernen   â”‚         â”‚
                    â”‚ â†’ FÃ¼r Zukunft   â”‚            â”‚                 â”‚         â”‚
                    â”‚   verwenden     â”‚            â”‚                 â”‚         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
```

---

## 4. API-Endpunkte (Chatbot Server)

### 4.1 Neue Endpunkte

```javascript
// GET /api/situation/analysis
// Holt aktuelle Situationsanalyse fÃ¼r eine Rolle
{
  request: {
    role: "S3",           // Pflicht
    forceRefresh: false   // Optional, erzwingt neue Analyse
  },
  response: {
    analysisId: "analysis_1704625200000",
    timestamp: 1704625200000,
    role: "S3",
    situation: {
      summary: "Waldbrand im Bereich Musterwald...",
      severity: "high",
      activeIncidents: 5,
      deployedUnits: 12,
      criticalFactors: ["Wind dreht", "Trockenheit"]
    },
    suggestions: [
      {
        id: "sug_001",
        priority: "high",
        title: "ZusÃ¤tzliche EinsatzkrÃ¤fte anfordern",
        description: "...",
        reasoning: "...",
        relatedIncidents: ["inc_123"],
        createdAt: 1704625200000
      }
    ],
    nextAnalysisIn: 300000  // 5 Minuten in ms
  }
}

// POST /api/situation/suggestion/feedback
// Speichert Feedback zu einem Vorschlag (binÃ¤res System)
{
  request: {
    suggestionId: "sug_001",
    analysisId: "analysis_1704625200000",
    helpful: true,                    // EINZIGE Bewertung: true/false
    userNotes: "ErgÃ¤nzung...",        // Optional: Benutzerkommentar
    editedContent: {     // Optional, wenn bearbeitet
      title: "...",
      description: "..."
    },
    userId: "user_123",
    userRole: "S3"
  }
}

// POST /api/situation/question
// Stellt eine Frage an das LLM
{
  request: {
    question: "Welche Einheiten sind verfÃ¼gbar?",
    role: "S3",
    context: "aufgabenboard"
  },
  response: {
    questionId: "q_001",
    answer: "...",
    sources: ["Meldung #127", "Lagebericht 14:15"],
    confidence: 0.85,
    timestamp: 1704625200000
  }
}

// POST /api/situation/question/feedback
// Speichert Feedback zu einer Frage/Antwort (binÃ¤res System)
{
  request: {
    questionId: "q_001",
    helpful: true,                              // BinÃ¤r: true/false
    correction: "Die richtige Anzahl ist 5",   // Optional: Bei helpful=false
    userId: "user_123",
    userRole: "S3"
  }
  // Bei helpful=true â†’ Antwort ins RAG speichern
  // Bei helpful=false + correction â†’ Korrigierte Version speichern
}

// GET /api/situation/status
// Status der Situationsanalyse
{
  response: {
    isActive: true,           // false wenn Simulation lÃ¤uft
    lastAnalysis: 1704625200000,
    analysisInterval: 300000, // 5 Minuten
    nextAnalysis: 1704625500000,
    rolesAnalyzed: ["S3", "S2", "LTSTB"]
  }
}
```

---

## 5. Datenmodell

### 5.1 Suggestion Schema

```javascript
{
  // Identifikation
  id: String,              // "sug_timestamp_random"
  analysisId: String,      // Referenz zur Analyse

  // Inhalt
  title: String,
  description: String,
  reasoning: String,       // BegrÃ¼ndung vom LLM
  priority: "high" | "medium" | "low",
  category: String,        // z.B. "resource", "coordination", "safety"

  // Kontext
  targetRole: String,      // FÃ¼r welche Rolle
  relatedIncidents: [String],
  relatedTasks: [String],

  // Status
  status: "new" | "viewed" | "implemented" | "rejected" | "modified",

  // Zeitstempel
  createdAt: Number,
  viewedAt: Number,
  resolvedAt: Number,

  // Feedback (vereinfacht - binÃ¤r)
  feedback: {
    helpful: Boolean,      // EINZIGE Bewertung: true = ins RAG, false = verwerfen
    userNotes: String,     // Optionale ErgÃ¤nzung/Kommentar
    editedContent: {       // Falls Benutzer bearbeitet hat
      title: String,
      description: String
    },
    feedbackAt: Number     // Zeitstempel der Bewertung
  }
  // Bei helpful=true wird Vorschlag (inkl. editedContent) automatisch ins RAG gespeichert
}
```

### 5.2 Question/Answer Schema

```javascript
{
  id: String,              // "qa_timestamp_random"

  // Frage
  question: String,
  askedAt: Number,
  askedBy: String,         // userId
  askedByRole: String,
  context: String,         // aufgabenboard, chat, etc.

  // Antwort
  answer: String,
  sources: [String],       // Quellenangaben
  confidence: Number,      // 0-1
  answeredAt: Number,

  // Feedback (vereinfacht - binÃ¤r)
  feedback: {
    helpful: Boolean,      // true = ins RAG, false = verwerfen
    correction: String,    // Optional: Bei helpful=false kann User korrigieren
    feedbackAt: Number
  }
  // Bei helpful=true â†’ Original-Antwort ins RAG
  // Bei helpful=false + correction â†’ Korrigierte Version ins RAG
}
```

---

## 6. Backend-Implementierung

### 6.1 situation_analyzer.js (neue Datei)

```javascript
// chatbot/server/situation_analyzer.js

const { chat } = require('./llm_client');
const { getContext, getDisasterSummary } = require('./disaster_context');
const { SessionRAG } = require('./rag/session_rag');
const { saveFeedback, getLearnedResponsesContext } = require('./llm_feedback');

class SituationAnalyzer {
  constructor() {
    this.analysisInterval = 5 * 60 * 1000; // 5 Minuten default
    this.lastAnalysis = new Map(); // role -> timestamp
    this.cachedAnalysis = new Map(); // role -> analysis
    this.intervalId = null;
  }

  // PrÃ¼ft ob Analyse aktiv sein soll (keine Simulation)
  isAnalysisActive() {
    const { isSimulationRunning } = require('./sim_loop');
    return !isSimulationRunning();
  }

  // Startet den Analyse-Intervall
  startAnalysisLoop(roles = ['LTSTB', 'S1', 'S2', 'S3', 'S4', 'S5', 'S6']) {
    if (this.intervalId) return;

    this.intervalId = setInterval(async () => {
      if (!this.isAnalysisActive()) return;

      for (const role of roles) {
        await this.analyzeForRole(role);
      }
    }, this.analysisInterval);
  }

  // Stoppt den Analyse-Intervall
  stopAnalysisLoop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }

  // FÃ¼hrt Analyse fÃ¼r eine Rolle durch
  async analyzeForRole(role, forceRefresh = false) {
    const now = Date.now();
    const lastTime = this.lastAnalysis.get(role) || 0;

    // Nutze Cache wenn nicht expired und kein Force-Refresh
    if (!forceRefresh && (now - lastTime) < this.analysisInterval) {
      return this.cachedAnalysis.get(role);
    }

    // Hole aktuellen Kontext
    const disasterContext = getDisasterSummary();
    const sessionContext = await SessionRAG.getInstance().getRelevantContext(
      `Aktuelle Situation fÃ¼r ${role}`,
      { topK: 10 }
    );
    const learnedContext = await getLearnedResponsesContext(role);

    // Generiere Analyse
    const analysis = await this.generateAnalysis(
      role,
      disasterContext,
      sessionContext,
      learnedContext
    );

    // Cache aktualisieren
    this.lastAnalysis.set(role, now);
    this.cachedAnalysis.set(role, analysis);

    return analysis;
  }

  // LLM-Aufruf fÃ¼r Analyse
  async generateAnalysis(role, disasterContext, sessionContext, learnedContext) {
    const roleDescriptions = {
      'LTSTB': 'Leiter Technische Einsatzleitung - Gesamtkoordination',
      'S1': 'Personal/Innerer Dienst',
      'S2': 'Lage',
      'S3': 'Einsatz',
      'S4': 'Versorgung',
      'S5': 'Presse/Medien',
      'S6': 'Kommunikation/IT'
    };

    const systemPrompt = `Du bist ein Experte fÃ¼r Einsatzleitung und Katastrophenmanagement.
Analysiere die aktuelle Lage und erstelle konkrete HandlungsvorschlÃ¤ge fÃ¼r die Rolle ${role} (${roleDescriptions[role]}).

KONTEXT DER AKTUELLEN LAGE:
${disasterContext}

RELEVANTE EREIGNISSE:
${sessionContext}

GELERNTE EMPFEHLUNGEN AUS FRÃœHEREN EINSÃ„TZEN:
${learnedContext}

Erstelle 3-5 priorisierte HandlungsvorschlÃ¤ge im folgenden JSON-Format:
{
  "situation": {
    "summary": "Kurze Zusammenfassung der aktuellen Lage",
    "severity": "low|medium|high|critical",
    "criticalFactors": ["Faktor 1", "Faktor 2"]
  },
  "suggestions": [
    {
      "priority": "high|medium|low",
      "title": "Kurzer Titel",
      "description": "Detaillierte Beschreibung der empfohlenen MaÃŸnahme",
      "reasoning": "BegrÃ¼ndung basierend auf der aktuellen Lage",
      "category": "resource|coordination|safety|communication|logistics"
    }
  ]
}`;

    const response = await chat([
      { role: 'system', content: systemPrompt },
      { role: 'user', content: `Erstelle HandlungsvorschlÃ¤ge fÃ¼r ${role} basierend auf der aktuellen Lage.` }
    ], { responseFormat: 'json' });

    const parsed = JSON.parse(response);

    return {
      analysisId: `analysis_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      timestamp: Date.now(),
      role,
      ...parsed,
      suggestions: parsed.suggestions.map((s, i) => ({
        ...s,
        id: `sug_${Date.now()}_${i}`,
        status: 'new',
        createdAt: Date.now()
      })),
      nextAnalysisIn: this.analysisInterval
    };
  }

  // Beantwortet eine direkte Frage
  async answerQuestion(question, role, context = 'aufgabenboard') {
    const disasterContext = getDisasterSummary();
    const sessionContext = await SessionRAG.getInstance().search(question, { topK: 5 });
    const learnedContext = await getLearnedResponsesContext(role, question);

    const systemPrompt = `Du bist ein KI-Assistent fÃ¼r Einsatzleitung.
Beantworte die Frage basierend auf der aktuellen Lage.

KONTEXT:
${disasterContext}

RELEVANTE DATEN:
${JSON.stringify(sessionContext.map(r => r.item))}

Antworte prÃ¤zise und nenne deine Quellen.`;

    const response = await chat([
      { role: 'system', content: systemPrompt },
      { role: 'user', content: question }
    ]);

    return {
      questionId: `q_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      question,
      answer: response,
      sources: sessionContext.map(r => r.item.source || r.item.type),
      confidence: 0.85,
      timestamp: Date.now()
    };
  }

  // Speichert Feedback und aktualisiert RAG
  async saveSuggestionFeedback(suggestionId, analysisId, feedback) {
    const feedbackData = {
      feedbackId: `fb_${Date.now()}`,
      suggestionId,
      analysisId,
      ...feedback,
      timestamp: Date.now(),
      interactionType: 'suggestion'
    };

    // Speichere Feedback
    await saveFeedback(feedbackData);

    // Bei hoher Bewertung: In Learned Responses aufnehmen
    if (feedback.rating >= 4 && feedback.implemented) {
      // Wird automatisch von llm_feedback.js verarbeitet
    }

    return feedbackData;
  }
}

module.exports = { SituationAnalyzer, situationAnalyzer: new SituationAnalyzer() };
```

---

## 7. Frontend-Implementierung

### 7.1 SituationAnalysisPanel.jsx

```jsx
// client/src/components/SituationAnalysisPanel.jsx

import React, { useState, useEffect, useCallback } from 'react';
import { ChevronUp, ChevronDown, RefreshCw, MessageSquare,
         ClipboardList, Star, ThumbsUp, ThumbsDown,
         Edit2, Check, X, Send } from 'lucide-react';
import api from '../api';

const SituationAnalysisPanel = ({ role, isSimulation }) => {
  const [isExpanded, setIsExpanded] = useState(false);
  const [activeTab, setActiveTab] = useState('suggestions'); // 'suggestions' | 'questions'
  const [analysis, setAnalysis] = useState(null);
  const [loading, setLoading] = useState(false);
  const [questionHistory, setQuestionHistory] = useState([]);
  const [currentQuestion, setCurrentQuestion] = useState('');
  const [askingQuestion, setAskingQuestion] = useState(false);

  // Lade Analyse beim Mount und bei Rollenwechsel
  useEffect(() => {
    if (!isSimulation && role) {
      loadAnalysis();
    }
  }, [role, isSimulation]);

  // Auto-Refresh alle 5 Minuten
  useEffect(() => {
    if (!isSimulation) {
      const interval = setInterval(loadAnalysis, 5 * 60 * 1000);
      return () => clearInterval(interval);
    }
  }, [isSimulation]);

  const loadAnalysis = async (forceRefresh = false) => {
    if (isSimulation) return;
    setLoading(true);
    try {
      const res = await api.get('/chatbot/api/situation/analysis', {
        params: { role, forceRefresh }
      });
      setAnalysis(res.data);
    } catch (err) {
      console.error('Fehler beim Laden der Analyse:', err);
    }
    setLoading(false);
  };

  const handleAskQuestion = async () => {
    if (!currentQuestion.trim() || askingQuestion) return;
    setAskingQuestion(true);
    try {
      const res = await api.post('/chatbot/api/situation/question', {
        question: currentQuestion,
        role,
        context: 'aufgabenboard'
      });
      setQuestionHistory(prev => [res.data, ...prev]);
      setCurrentQuestion('');
    } catch (err) {
      console.error('Fehler bei Frage:', err);
    }
    setAskingQuestion(false);
  };

  // Nicht anzeigen wenn Simulation lÃ¤uft
  if (isSimulation) return null;

  return (
    <div className={`fixed bottom-0 left-0 right-0 bg-white border-t-2
                     border-blue-500 shadow-lg transition-all duration-300 z-40
                     ${isExpanded ? 'h-[60vh]' : 'h-12'}`}>

      {/* Header Bar - immer sichtbar */}
      <div
        className="h-12 px-4 flex items-center justify-between cursor-pointer
                   bg-gradient-to-r from-blue-600 to-blue-700 text-white"
        onClick={() => setIsExpanded(!isExpanded)}
      >
        <div className="flex items-center gap-3">
          {isExpanded ? <ChevronDown size={20} /> : <ChevronUp size={20} />}
          <span className="font-semibold">KI-Lageanalyse</span>
          {analysis && (
            <span className="text-sm opacity-80">
              fÃ¼r {role}
            </span>
          )}
        </div>

        <div className="flex items-center gap-4 text-sm">
          {analysis?.suggestions?.filter(s => s.status === 'new').length > 0 && (
            <span className="bg-red-500 px-2 py-0.5 rounded-full">
              {analysis.suggestions.filter(s => s.status === 'new').length} neue VorschlÃ¤ge
            </span>
          )}
          {analysis && (
            <span className="opacity-80">
              Letzte Analyse: {new Date(analysis.timestamp).toLocaleTimeString('de-DE')}
            </span>
          )}
          {questionHistory.length > 0 && (
            <span className="flex items-center gap-1">
              <MessageSquare size={16} />
              {questionHistory.length}
            </span>
          )}
        </div>
      </div>

      {/* Expandierter Inhalt */}
      {isExpanded && (
        <div className="h-[calc(60vh-3rem)] flex flex-col">
          {/* Tab Navigation */}
          <div className="flex border-b">
            <button
              onClick={() => setActiveTab('suggestions')}
              className={`flex items-center gap-2 px-6 py-3 font-medium transition
                         ${activeTab === 'suggestions'
                           ? 'text-blue-600 border-b-2 border-blue-600'
                           : 'text-gray-500 hover:text-gray-700'}`}
            >
              <ClipboardList size={18} />
              HandlungsvorschlÃ¤ge
              {analysis?.suggestions?.length > 0 && (
                <span className="bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full text-xs">
                  {analysis.suggestions.length}
                </span>
              )}
            </button>
            <button
              onClick={() => setActiveTab('questions')}
              className={`flex items-center gap-2 px-6 py-3 font-medium transition
                         ${activeTab === 'questions'
                           ? 'text-blue-600 border-b-2 border-blue-600'
                           : 'text-gray-500 hover:text-gray-700'}`}
            >
              <MessageSquare size={18} />
              Fragen an KI
            </button>

            <div className="ml-auto px-4 py-2">
              <button
                onClick={() => loadAnalysis(true)}
                disabled={loading}
                className="flex items-center gap-2 px-3 py-1.5 bg-blue-100
                           text-blue-600 rounded hover:bg-blue-200 transition"
              >
                <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />
                Aktualisieren
              </button>
            </div>
          </div>

          {/* Tab Content */}
          <div className="flex-1 overflow-y-auto p-4">
            {activeTab === 'suggestions' ? (
              <SuggestionsTab
                analysis={analysis}
                role={role}
                onFeedback={loadAnalysis}
              />
            ) : (
              <QuestionsTab
                questionHistory={questionHistory}
                currentQuestion={currentQuestion}
                setCurrentQuestion={setCurrentQuestion}
                onAsk={handleAskQuestion}
                asking={askingQuestion}
                role={role}
              />
            )}
          </div>
        </div>
      )}
    </div>
  );
};

// Suggestions Tab Component
const SuggestionsTab = ({ analysis, role, onFeedback }) => {
  if (!analysis?.suggestions?.length) {
    return (
      <div className="text-center py-12 text-gray-500">
        <ClipboardList size={48} className="mx-auto mb-4 opacity-50" />
        <p>Keine HandlungsvorschlÃ¤ge verfÃ¼gbar</p>
        <p className="text-sm">Die nÃ¤chste Analyse erfolgt automatisch</p>
      </div>
    );
  }

  return (
    <div className="space-y-4">
      {/* Lage-Zusammenfassung */}
      {analysis.situation && (
        <div className={`p-4 rounded-lg border-l-4
                        ${analysis.situation.severity === 'critical' ? 'bg-red-50 border-red-500' :
                          analysis.situation.severity === 'high' ? 'bg-orange-50 border-orange-500' :
                          analysis.situation.severity === 'medium' ? 'bg-yellow-50 border-yellow-500' :
                          'bg-green-50 border-green-500'}`}>
          <h3 className="font-semibold mb-2">Aktuelle Lage</h3>
          <p className="text-sm">{analysis.situation.summary}</p>
          {analysis.situation.criticalFactors?.length > 0 && (
            <div className="mt-2 flex flex-wrap gap-2">
              {analysis.situation.criticalFactors.map((factor, i) => (
                <span key={i} className="text-xs bg-white/50 px-2 py-1 rounded">
                  {factor}
                </span>
              ))}
            </div>
          )}
        </div>
      )}

      {/* VorschlÃ¤ge */}
      {analysis.suggestions.map(suggestion => (
        <SuggestionCard
          key={suggestion.id}
          suggestion={suggestion}
          role={role}
          onFeedback={onFeedback}
        />
      ))}
    </div>
  );
};

// Single Suggestion Card
const SuggestionCard = ({ suggestion, role, onFeedback }) => {
  const [expanded, setExpanded] = useState(false);
  const [editing, setEditing] = useState(false);
  const [editedContent, setEditedContent] = useState({
    title: suggestion.title,
    description: suggestion.description
  });
  const [feedback, setFeedback] = useState({
    rating: 0,
    helpful: null,
    accurate: null,
    actionable: null,
    implemented: null,
    outcome: null,
    userNotes: ''
  });
  const [showFeedback, setShowFeedback] = useState(false);

  const priorityColors = {
    high: 'border-red-500 bg-red-50',
    medium: 'border-yellow-500 bg-yellow-50',
    low: 'border-green-500 bg-green-50'
  };

  const priorityLabels = {
    high: 'ğŸ”´ PRIORITÃ„T HOCH',
    medium: 'ğŸŸ¡ PRIORITÃ„T MITTEL',
    low: 'ğŸŸ¢ PRIORITÃ„T NIEDRIG'
  };

  const handleSaveFeedback = async () => {
    try {
      await api.post('/chatbot/api/situation/suggestion/feedback', {
        suggestionId: suggestion.id,
        analysisId: suggestion.analysisId,
        ...feedback,
        editedContent: editing ? editedContent : null,
        userId: 'current_user', // TODO: Get from auth
        userRole: role
      });
      setShowFeedback(false);
      onFeedback();
    } catch (err) {
      console.error('Fehler beim Speichern des Feedbacks:', err);
    }
  };

  return (
    <div className={`border-l-4 rounded-lg shadow-sm overflow-hidden
                    ${priorityColors[suggestion.priority]}`}>
      {/* Header */}
      <div className="p-4 flex justify-between items-start">
        <div className="flex-1">
          <div className="flex items-center gap-2 mb-2">
            <span className="text-xs font-semibold">
              {priorityLabels[suggestion.priority]}
            </span>
            <span className="text-xs text-gray-500">
              {new Date(suggestion.createdAt).toLocaleTimeString('de-DE')}
            </span>
          </div>

          {editing ? (
            <input
              type="text"
              value={editedContent.title}
              onChange={e => setEditedContent(prev => ({...prev, title: e.target.value}))}
              className="w-full font-semibold text-lg border rounded px-2 py-1"
            />
          ) : (
            <h3 className="font-semibold text-lg">{suggestion.title}</h3>
          )}
        </div>
      </div>

      {/* Content */}
      <div className="px-4 pb-4">
        {editing ? (
          <textarea
            value={editedContent.description}
            onChange={e => setEditedContent(prev => ({...prev, description: e.target.value}))}
            className="w-full border rounded px-2 py-1 min-h-[100px]"
          />
        ) : (
          <>
            <p className="text-gray-700 mb-2">{suggestion.description}</p>
            {expanded && suggestion.reasoning && (
              <div className="mt-3 p-3 bg-white/50 rounded">
                <p className="text-sm text-gray-600">
                  <strong>BegrÃ¼ndung:</strong> {suggestion.reasoning}
                </p>
              </div>
            )}
          </>
        )}

        {/* Action Buttons */}
        <div className="flex flex-wrap gap-2 mt-4">
          {editing ? (
            <>
              <button
                onClick={() => setEditing(false)}
                className="flex items-center gap-1 px-3 py-1.5 bg-gray-200
                           rounded hover:bg-gray-300 transition text-sm"
              >
                <X size={14} /> Abbrechen
              </button>
              <button
                onClick={() => {
                  setEditing(false);
                  setShowFeedback(true);
                }}
                className="flex items-center gap-1 px-3 py-1.5 bg-blue-600
                           text-white rounded hover:bg-blue-700 transition text-sm"
              >
                <Check size={14} /> Speichern
              </button>
            </>
          ) : (
            <>
              <button
                onClick={() => setEditing(true)}
                className="flex items-center gap-1 px-3 py-1.5 bg-white
                           border rounded hover:bg-gray-50 transition text-sm"
              >
                <Edit2 size={14} /> Bearbeiten
              </button>
              <button
                onClick={() => {
                  setFeedback(prev => ({...prev, implemented: true, outcome: 'success'}));
                  setShowFeedback(true);
                }}
                className="flex items-center gap-1 px-3 py-1.5 bg-green-600
                           text-white rounded hover:bg-green-700 transition text-sm"
              >
                <Check size={14} /> Umsetzen
              </button>
              <button
                onClick={() => {
                  setFeedback(prev => ({...prev, implemented: false, outcome: 'rejected'}));
                  setShowFeedback(true);
                }}
                className="flex items-center gap-1 px-3 py-1.5 bg-red-600
                           text-white rounded hover:bg-red-700 transition text-sm"
              >
                <X size={14} /> Ablehnen
              </button>
              <button
                onClick={() => setExpanded(!expanded)}
                className="text-sm text-blue-600 hover:underline ml-auto"
              >
                {expanded ? 'Weniger' : 'Mehr'} anzeigen
              </button>
            </>
          )}
        </div>

        {/* BinÃ¤res Feedback - Nur Hilfreich/Nicht Hilfreich */}
        {!showFeedback && (
          <div className="flex items-center gap-4 mt-4 pt-4 border-t">
            <button
              onClick={() => {
                setFeedback(prev => ({...prev, helpful: true}));
                handleSaveFeedback();  // Direkt speichern bei Hilfreich
              }}
              className="flex items-center gap-2 px-4 py-2 bg-green-600 text-white
                         rounded-lg hover:bg-green-700 transition font-medium"
            >
              <ThumbsUp size={18} />
              Hilfreich
            </button>
            <button
              onClick={() => {
                setFeedback(prev => ({...prev, helpful: false}));
                setShowFeedback(true);  // Zeige Formular fÃ¼r optionale ErgÃ¤nzung
              }}
              className="flex items-center gap-2 px-4 py-2 bg-gray-200
                         rounded-lg hover:bg-gray-300 transition font-medium"
            >
              <ThumbsDown size={18} />
              Nicht hilfreich
            </button>
            <button
              onClick={() => setEditing(true)}
              className="flex items-center gap-2 px-3 py-2 text-blue-600
                         hover:bg-blue-50 rounded-lg transition text-sm"
            >
              <Edit2 size={16} />
              Bearbeiten
            </button>
          </div>
        )}

        {/* Expanded Feedback Form */}
        {showFeedback && (
          <FeedbackForm
            feedback={feedback}
            setFeedback={setFeedback}
            onSave={handleSaveFeedback}
            onCancel={() => setShowFeedback(false)}
          />
        )}
      </div>
    </div>
  );
};

// Vereinfachtes Feedback Form Component (nur bei "Nicht hilfreich")
const FeedbackForm = ({ feedback, setFeedback, onSave, onCancel }) => {
  return (
    <div className="mt-4 p-4 bg-gray-50 rounded-lg border">
      <h4 className="font-semibold mb-4 text-gray-700">
        {feedback.helpful === false
          ? 'ğŸ‘ Als nicht hilfreich markiert'
          : 'Feedback'}
      </h4>

      {/* Optionale ErgÃ¤nzung/Korrektur */}
      <div className="mb-4">
        <label className="text-sm font-medium text-gray-600">
          ErgÃ¤nzung oder Korrektur (optional):
        </label>
        <textarea
          value={feedback.userNotes || ''}
          onChange={e => setFeedback(prev => ({...prev, userNotes: e.target.value}))}
          placeholder="Was wÃ¤re besser gewesen? Ihre VerbesserungsvorschlÃ¤ge..."
          className="w-full mt-1 border rounded px-3 py-2 text-sm"
          rows={3}
        />
        <p className="text-xs text-gray-500 mt-1">
          Bei guter Korrektur wird diese fÃ¼r zukÃ¼nftige VorschlÃ¤ge verwendet.
        </p>
      </div>

      {/* Actions */}
      <div className="flex gap-2">
        <button
          onClick={onCancel}
          className="px-4 py-2 bg-white border rounded hover:bg-gray-50 transition"
        >
          Abbrechen
        </button>
        <button
          onClick={onSave}
          className="px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition"
        >
          Feedback speichern
        </button>
      </div>
    </div>
  );
};

// Questions Tab Component
const QuestionsTab = ({
  questionHistory,
  currentQuestion,
  setCurrentQuestion,
  onAsk,
  asking,
  role
}) => {
  return (
    <div className="space-y-4">
      {/* Question Input */}
      <div className="bg-gray-50 p-4 rounded-lg">
        <label className="block text-sm font-medium mb-2">
          Stellen Sie Ihre Frage zur aktuellen Lage:
        </label>
        <div className="flex gap-2">
          <textarea
            value={currentQuestion}
            onChange={e => setCurrentQuestion(e.target.value)}
            placeholder="z.B. Welche Einheiten sind aktuell verfÃ¼gbar?"
            className="flex-1 border rounded px-3 py-2 min-h-[60px]"
            onKeyDown={e => {
              if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                onAsk();
              }
            }}
          />
          <button
            onClick={onAsk}
            disabled={!currentQuestion.trim() || asking}
            className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700
                       disabled:opacity-50 disabled:cursor-not-allowed transition
                       flex items-center gap-2"
          >
            <Send size={18} />
            {asking ? 'Wird gefragt...' : 'Senden'}
          </button>
        </div>
      </div>

      {/* Answer History */}
      {questionHistory.length > 0 && (
        <div>
          <h3 className="text-sm font-semibold text-gray-500 mb-3">
            Letzte Antworten
          </h3>
          <div className="space-y-4">
            {questionHistory.map(qa => (
              <QuestionAnswerCard key={qa.questionId} qa={qa} role={role} />
            ))}
          </div>
        </div>
      )}

      {questionHistory.length === 0 && (
        <div className="text-center py-8 text-gray-500">
          <MessageSquare size={48} className="mx-auto mb-4 opacity-50" />
          <p>Noch keine Fragen gestellt</p>
          <p className="text-sm">
            Stellen Sie Fragen zur aktuellen Lage und erhalten Sie KI-gestÃ¼tzte Antworten
          </p>
        </div>
      )}
    </div>
  );
};

// Question/Answer Card
const QuestionAnswerCard = ({ qa, role }) => {
  const [showFeedback, setShowFeedback] = useState(false);
  const [feedback, setFeedback] = useState({
    rating: 0,
    helpful: null,
    correction: ''
  });

  const handleSaveFeedback = async () => {
    try {
      await api.post('/chatbot/api/situation/question/feedback', {
        questionId: qa.questionId,
        ...feedback,
        userId: 'current_user',
        userRole: role
      });
      setShowFeedback(false);
    } catch (err) {
      console.error('Fehler beim Speichern:', err);
    }
  };

  return (
    <div className="border rounded-lg overflow-hidden">
      {/* Question Header */}
      <div className="bg-gray-100 px-4 py-2 flex justify-between items-center">
        <span className="font-medium flex items-center gap-2">
          <MessageSquare size={16} />
          {qa.question}
        </span>
        <span className="text-xs text-gray-500">
          {new Date(qa.timestamp).toLocaleTimeString('de-DE')}
        </span>
      </div>

      {/* Answer */}
      <div className="p-4">
        <p className="text-gray-700 whitespace-pre-wrap">{qa.answer}</p>

        {qa.sources?.length > 0 && (
          <div className="mt-3 text-xs text-gray-500">
            <strong>Quellen:</strong> {qa.sources.join(', ')}
          </div>
        )}

        {/* Quick Rating */}
        {!showFeedback && (
          <div className="flex items-center gap-4 mt-4 pt-4 border-t">
            <span className="text-sm text-gray-500">Bewertung:</span>
            <div className="flex gap-1">
              {[1, 2, 3, 4, 5].map(star => (
                <button
                  key={star}
                  onClick={() => {
                    setFeedback(prev => ({...prev, rating: star}));
                    if (star < 3) setShowFeedback(true);
                  }}
                >
                  <Star
                    size={18}
                    fill={feedback.rating >= star ? '#facc15' : 'none'}
                    className={feedback.rating >= star ? 'text-yellow-400' : 'text-gray-300'}
                  />
                </button>
              ))}
            </div>
            <button
              onClick={() => setShowFeedback(true)}
              className="text-sm text-blue-600 hover:underline"
            >
              Korrektur hinzufÃ¼gen
            </button>
          </div>
        )}

        {/* Expanded Feedback */}
        {showFeedback && (
          <div className="mt-4 p-4 bg-gray-50 rounded">
            <div className="mb-3">
              <label className="text-sm font-medium">Korrektur/ErgÃ¤nzung:</label>
              <textarea
                value={feedback.correction}
                onChange={e => setFeedback(prev => ({...prev, correction: e.target.value}))}
                placeholder="Falls die Antwort fehlerhaft war, geben Sie hier die korrekte Information ein..."
                className="w-full mt-1 border rounded px-3 py-2 text-sm"
                rows={3}
              />
            </div>
            <div className="flex gap-2">
              <button
                onClick={() => setShowFeedback(false)}
                className="px-3 py-1.5 bg-gray-200 rounded text-sm"
              >
                Abbrechen
              </button>
              <button
                onClick={handleSaveFeedback}
                className="px-3 py-1.5 bg-blue-600 text-white rounded text-sm"
              >
                Speichern
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default SituationAnalysisPanel;
```

---

## 8. Integration in AufgApp.jsx

### 8.1 Ã„nderungen in AufgApp.jsx

```jsx
// Am Anfang der Datei importieren:
import SituationAnalysisPanel from '../components/SituationAnalysisPanel';
import useOnlineRoles from '../hooks/useOnlineRoles';

// Im Component:
const AufgApp = () => {
  // Bestehende State-Variablen...

  // Neuer Hook fÃ¼r Simulation-Status
  const [isSimulation, setIsSimulation] = useState(false);
  const { onlineRoles } = useOnlineRoles();

  // PrÃ¼fe Simulation-Status
  useEffect(() => {
    const checkSimStatus = async () => {
      try {
        const res = await api.get('/chatbot/api/situation/status');
        setIsSimulation(!res.data.isActive);
      } catch (err) {
        console.error('Simulation status check failed:', err);
      }
    };
    checkSimStatus();
    const interval = setInterval(checkSimStatus, 30000);
    return () => clearInterval(interval);
  }, []);

  // ... bestehender Code ...

  return (
    <div className="relative h-screen flex flex-col">
      {/* Bestehender Kanban-Board Code */}
      <div className="flex-1 overflow-auto pb-16"> {/* pb-16 fÃ¼r Panel-Platz */}
        {/* ... Kanban columns ... */}
      </div>

      {/* NEU: Situationsanalyse Panel */}
      <SituationAnalysisPanel
        role={selectedRole}
        isSimulation={isSimulation}
      />
    </div>
  );
};
```

---

## 9. Konfiguration

### 9.1 Analyse-Intervall konfigurierbar

```javascript
// In chatbot/server/config.js erweitern:

const defaultConfig = {
  // ... bestehende Konfiguration ...

  situationAnalysis: {
    enabled: true,
    intervalMinutes: 5,           // Analyse-Intervall
    maxSuggestionsPerRole: 5,     // Max. VorschlÃ¤ge pro Analyse
    autoRefreshOnIncident: true,  // Bei neuem Ereignis sofort analysieren
    saveHelpfulToRAG: true,       // Hilfreich-Feedback automatisch ins RAG
    roles: ['LTSTB', 'S1', 'S2', 'S3', 'S4', 'S5', 'S6']
  }
};
```

---

## 10. RAG-Integration fÃ¼r Feedback (Vereinfacht)

### 10.1 Erweiterung llm_feedback.js

```javascript
// Neue Funktion zum Extrahieren von Learned Suggestions (binÃ¤res Feedback)
async function extractLearnedSuggestion(feedbackData) {
  // Nur bei "Hilfreich" ins RAG speichern
  if (!feedbackData.helpful) return null;

  const learnedSuggestion = {
    id: `learned_sug_${Date.now()}`,
    originalSuggestionId: feedbackData.suggestionId,

    // Inhalt (ggf. bearbeitet)
    title: feedbackData.editedContent?.title || feedbackData.originalTitle,
    description: feedbackData.editedContent?.description || feedbackData.originalDescription,

    // Kontext
    disasterType: feedbackData.disasterType,
    disasterPhase: feedbackData.disasterPhase,
    targetRole: feedbackData.userRole,

    // Feedback-Daten (binÃ¤r)
    helpful: true,  // Immer true (wird nur bei helpful=true aufgerufen)
    userNotes: feedbackData.userNotes,  // Optionale BenutzerergÃ¤nzung

    // FÃ¼r Embedding
    searchText: `${feedbackData.editedContent?.title || feedbackData.originalTitle}
                 ${feedbackData.editedContent?.description || feedbackData.originalDescription}
                 ${feedbackData.userNotes}`,

    createdAt: Date.now()
  };

  // Embedding generieren
  learnedSuggestion.embedding = await generateEmbedding(learnedSuggestion.searchText);

  // Speichern
  await saveLearnedSuggestion(learnedSuggestion);

  return learnedSuggestion;
}

// Funktion zum Abrufen relevanter gelernter VorschlÃ¤ge
async function getLearnedSuggestionsForAnalysis(role, currentContext) {
  const learned = await loadLearnedSuggestions();

  // Filtere nach Rolle
  const roleSpecific = learned.filter(s => s.targetRole === role);

  // Semantische Suche
  const contextEmbedding = await generateEmbedding(currentContext);
  const similar = roleSpecific
    .map(s => ({
      ...s,
      similarity: cosineSimilarity(s.embedding, contextEmbedding)
    }))
    .filter(s => s.similarity > 0.7)
    .sort((a, b) => b.similarity - a.similarity)
    .slice(0, 5);

  return similar;
}
```

---

## 11. Zeitplan & Priorisierung

### Phase 1: GrundgerÃ¼st (Basis-FunktionalitÃ¤t)
- [ ] SituationAnalyzer Backend-Modul
- [ ] API-Endpunkte fÃ¼r Analyse und Fragen
- [ ] SituationAnalysisPanel Grundkomponente
- [ ] Integration in AufgApp.jsx

### Phase 2: Feedback-System
- [ ] Bewertungs-UI komplett
- [ ] Feedback-Speicherung
- [ ] Bearbeitungsfunktion fÃ¼r VorschlÃ¤ge

### Phase 3: RAG-Integration
- [ ] Learned Suggestions Extraktion
- [ ] Feedback-basierte Verbesserung
- [ ] Semantische Suche in Learned Suggestions

### Phase 4: Polish & Optimierung
- [ ] UI/UX Verfeinerungen
- [ ] Performance-Optimierung
- [ ] Konfigurierbarkeit erweitern

---

## 12. Zusammenfassung

Dieses Konzept bietet:

1. **Automatische Lageanalyse** - LLM analysiert periodisch die Situation
2. **Rollenspezifische VorschlÃ¤ge** - Jede Stabsstelle erhÃ¤lt relevante Empfehlungen
3. **Benutzerfreundliche UI** - Ein-/ausklappbares Panel am unteren Rand
4. **VollstÃ¤ndiges Feedback-System** - Bewertung, Bearbeitung, Kommentare
5. **RAG-RÃ¼ckfluss** - Gute VorschlÃ¤ge verbessern zukÃ¼nftige Analysen
6. **Direkte KI-Kommunikation** - Fragen stellen und Antworten bewerten

Die Implementierung baut auf den bestehenden Systemen auf (llm_feedback.js, session_rag.js) und erweitert diese sinnvoll.
